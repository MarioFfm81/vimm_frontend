<mat-card style="width:fit-content;margin: 2em;">
    <mat-card-title>{{ experiment.remark }}</mat-card-title>
    <mat-card-subtitle>{{ experiment.name }}</mat-card-subtitle>
    <hr>
    <mat-card-content *ngIf="!small">
        <div class="actions" style="text-align: right;">
            <button mat-flat-button color="primary" (click)="removeExp()">Experiment entfernen</button>
        </div>
        <table>
            <tr>
                <td colspan="2">
                    <div style="border: 1px solid grey; width:350px">
                        <img src="../../assets/Mpa_Legend.JPG" height="300px" />
                        <img [src]="img_path" width="300px"/><br>
                    </div>
                    
                </td>
                <td>
                    <img [src]="hist_path" width="300px"/><br>
                </td>
            </tr>
        </table>
        <table width="100%">
            <tr style="font-weight: bold;">
                <td style="text-align: left;" width="33%">Kennzahl</td>
                <td style="text-align: right;" width="33%">Exeriment (Abw. zur Referenz)</td>
                <td class="history" width="33%">Referenz</td>
            </tr>
            <tr *ngFor="let kpi of experiment.kpis | keyvalue">
                <td style="text-align: left;white-space: pre-wrap">{{ map_kpi_key(kpi.key) }}</td>
                <td style="text-align: right;"><span [class.compMark]="check_deviation(kpi.key)" [class.good]="!check_deviation(kpi.key)">{{kpi.value | number:'':'de' }} ({{(kpi.value/history[kpi.key])-1 | percent:'1.1-1'}}) </span></td>
                <td class="history"><span>{{ history[kpi.key] | number:'':'de' }} </span></td>
            </tr>
                        
        </table>
    </mat-card-content>

    <mat-card-content *ngIf="small">
        <div class="actions" style="text-align: center;">
            <button mat-flat-button color="primary" (click)="removeExp()">Experiment entfernen</button>
        </div>
        <table>
            <tr>
                <td>
                    <div style="border: 1px solid grey">
                        <img src="../../assets/Mpa_Legend.JPG" height="200px" />
                        <img [src]="img_path" width="200px"/><br>
                    </div>
                    
                </td>
            </tr>
                        
        </table>
    </mat-card-content>
</mat-card>